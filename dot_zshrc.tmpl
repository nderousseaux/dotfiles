############## OH-MY-ZSH ##############
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="sober"
plugins=(git virtualenv zsh-syntax-highlighting zsh-autosuggestions)
source $ZSH/oh-my-zsh.sh

#Couleur des fichiers
export CLICOLOR=1
export LSCOLORS=ExFxCxDxBxegedabagacad

# Auto jump
[ -f /usr/local/etc/profile.d/autojump.sh ] && . /usr/local/etc/profile.d/autojump.sh

############## PATH ##############
{{ if eq .chezmoi.os "darwin" -}}
# Package managers (macOS)
export PATH="/opt/homebrew/bin:$PATH"
export PATH="/usr/local/sbin:$PATH"

# Development tools (macOS)
export PATH="/usr/local/texlive/2025/bin/universal-darwin:$PATH"
export PATH="/Library/TeX/texbin:$PATH"
export PATH="/usr/local/opt/make/libexec/gnubin:$PATH"
export PATH="/usr/local/opt/gnu-sed/libexec/gnubin:$PATH"
export PATH="/usr/local/opt/bison/bin:$PATH"
export PATH="/usr/local/opt/flex/bin:$PATH"

# Programming languages (macOS)
export PATH="/usr/local/opt/python/libexec/bin:$PATH"
export PATH="/usr/local/opt/ruby/bin:$PATH"
export PATH="$PATH:$HOME/.rvm/bin"
{{ else -}}
# Package managers (Linux)
export PATH="/usr/local/sbin:$PATH"

# Programming languages (Linux)
export PATH="$PATH:$HOME/.local/bin"
{{ end -}}

# User binaries
export PATH="$PATH:$HOME/bin"

# Include paths
{{ if eq .chezmoi.os "darwin" -}}
export C_INCLUDE_PATH="/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include"
export CPLUS_INCLUDE_PATH="/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include"
{{ end -}}


############## Alias ##############
alias bssh='ssh -o ServerAliveInterval=10 -o ServerAliveCountMax=3 -t bastion --'
{{ if eq .chezmoi.os "darwin" -}}
alias dpda="docker run --rm --volume \"\$PWD\":/mnt --workdir /mnt -u 1000:1000 -i -t pdagog/refc"
{{ end -}}

# pnpm
export PNPM_HOME="{{ .chezmoi.homeDir }}/Library/pnpm"
case ":$PATH:" in
  *":$PNPM_HOME:"*) ;;
  *) export PATH="$PNPM_HOME:$PATH" ;;
esac
# pnpm end

# Set up fzf key bindings and fuzzy completion
source <(fzf --zsh)
